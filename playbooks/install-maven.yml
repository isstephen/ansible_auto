---
# Playbook to install Apache Maven on the same EC2 host
- hosts: jenkins
  become: yes
  gather_facts: true

  tasks:
    - name: Enable EPEL repository (for Maven package)
      yum:
        name: epel-release
        state: present

    - name: Install Apache Maven from EPEL
      yum:
        name: maven
        state: present

    - name: Verify Maven installation
      command: mvn --version
      register: maven_output
      changed_when: false

    - name: Display Maven version
      debug:
        var: maven_output.stdout_lines
